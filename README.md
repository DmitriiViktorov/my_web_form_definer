# Поиск шаблонов данных пользователя

Приложение на FastAPI для поиска соответствующего шаблона, подходящего под данные пользователя.

## Запуск приложения

Для запуска приложения выполните следующие шаги:

1. **Клонировать репозиторий**

    Клонируйте репозиторий с помощью команды:
    ```bash
    git clone https://github.com/DmitriiViktorov/my_web_form_definer.git
    ```

2. **Запуск контейнера**

    Соберите и запустите Docker образ:
    ```bash
    docker-compose up --build
    ```

3. **Доступ к приложению**

    После успешного запуска приложение будет доступно по адресу:
    ```bash
    http://127.0.0.1:8000
    ```

## Эндпоинты

### Поиск шаблона формы

Для поиска шаблона отправьте POST запрос по адресу:

    http://0.0.0.0:8000/get_form?field_name=value

#### Параметры запроса

- Запрос должен быть в виде query params.
- Если данные для запроса отсутствуют или пусты, вы получите предупреждение.

#### Ответ

- Если подходящий шаблон найден, сервер вернет его название.
- В противном случае, сервер вернет данные вашего запроса с "типизированными" значениями:
  - `date` - дата в формате DD.MM.YYYY или YYYY-MM-DD
  - `phone` - номер телефона в формате +7 xxx xxx xx xx
  - `email` - корректно указанный адрес электронной почты
  - `text` - все остальные данные

### Тестирование

Так как проект реализован с помощью Docker образов, для запуска тестов необходимо выполнить следующую команду:
   ```bash
   docker-compose exec web pytest tests/
   ```
Эта команда запустит все доступные тесты из директории tests.
Если необходимо запустить отдельные тесть - можно использовать более точный запрос

    ...tests/test_endpoints.py  - тесты для проверки корректности работы основного эндпоинта get_form
    ...tests/test_service.py - тесты для функций типизации данных пользователя и функции поиска
    ...tests/test_validator - тесты для валидатора даты и функции типизации данных